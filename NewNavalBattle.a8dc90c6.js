parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"RGpb":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=n();return function(){var i,l=o(t);if(e){var r=o(this).constructor;i=Reflect.construct(l,arguments,r)}else i=l.apply(this,arguments);return a(this,i)}}function a(e,i){if(i&&("object"===t(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var i=0;i<e.length;i++){var l=e[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function s(t,e,i){return e&&d(t.prototype,e),i&&d(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.humanGuessField=exports.aiField=exports.humanField=exports.gameIsOver=void 0;var c=10,b=[4,3,3,2,2,2,1,1,1,1],f=!1;exports.gameIsOver=f;var F=function(){function t(){u(this,t),this.battleField=Array.from({length:c},function(){return Array.from({length:c},function(){return"@"})})}return s(t,[{key:"getRandomIntInclusive",value:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}},{key:"generateRandomCoordinateXY",value:function(t){return[this.getRandomIntInclusive(0,9),this.getRandomIntInclusive(0,9)]}},{key:"convertNumberToCoordArr",value:function(t){var e=[];return e.push(Math.floor(t/c),t%c),e}}]),t}(),h=function(t){e(a,F);var i=l(a);function a(){var t;return u(this,a),(t=i.call(this))._FLEET=b,t.placeShipsOnField(),t}return s(a,[{key:"isSurroundingCellsFree",value:function(t){var e=t[0],i=t[1];return 0===e?"@"===this.battleField[e][i-1]&&"@"===this.battleField[e][i+1]&&"@"===this.battleField[e+1][i+1]&&"@"===this.battleField[e+1][i]&&"@"===this.battleField[e+1][i-1]:9===e?"@"===this.battleField[e][i-1]&&"@"===this.battleField[e-1][i-1]&&"@"===this.battleField[e-1][i]&&"@"===this.battleField[e-1][i+1]&&"@"===this.battleField[e][i+1]:0===i?"@"===this.battleField[e-1][i]&&"@"===this.battleField[e-1][i+1]&&"@"===this.battleField[e][i+1]&&"@"===this.battleField[e+1][i+1]&&"@"===this.battleField[e+1][i]:9===i?"@"===this.battleField[e][i-1]&&"@"===this.battleField[e-1][i-1]&&"@"===this.battleField[e-1][i]&&"@"===this.battleField[e+1][i]&&"@"===this.battleField[e+1][i-1]:"@"===this.battleField[e][i-1]&&"@"===this.battleField[e-1][i-1]&&"@"===this.battleField[e-1][i]&&"@"===this.battleField[e-1][i+1]&&"@"===this.battleField[e][i+1]&&"@"===this.battleField[e+1][i+1]&&"@"===this.battleField[e+1][i]&&"@"===this.battleField[e+1][i-1]}},{key:"isCanBeAttachedVertical",value:function(t,e){var i=e[0],l=e[1],a=!0,r=i+t<c,n=this.isSurroundingCellsFree(e)&&"@"===this.battleField[i][l];if(!r)return!1;if(1===t)return n;for(var o=0;o<t;o++)"@"===this.battleField[i+o][l]&&this.isSurroundingCellsFree([i+o,l])||(a=!1);return a&&r}},{key:"isCanBeAttachedHorizontal",value:function(t,e){var i=e[0],l=e[1],a=!0,r=l+t<c,n=this.isSurroundingCellsFree([i,l])&&"@"===this.battleField[i][l];if(!r)return!1;if(1===t)return n;for(var o=0;o<t;o++)"@"===this.battleField[i][l+o]&&this.isSurroundingCellsFree([i,l+o])||(a=!1);return a&&r}},{key:"attachShip",value:function(t){var e=this,i=[];i=this.generateRandomCoordinateXY(i);for(var l=!1,a=!1,r=function(){for(var l=0;l<t;l++)e.battleField[i[0]+l][i[1]]="#"},n=function(){for(var l=0;l<t;l++)e.battleField[i[0]][i[1]+l]="#"};!l&&!a;)i=this.generateRandomCoordinateXY(i),l=this.isCanBeAttachedVertical(t,i),a=this.isCanBeAttachedHorizontal(t,i);l&&a?1===this.getRandomIntInclusive(0,1)?r():n():l?r():n()}},{key:"placeShipsOnField",value:function(){for(var t=0;t<this._FLEET.length;t++)this.attachShip(this._FLEET[t])}},{key:"markSunkShip",value:function(t,e,i){function l(t,e,i){t[1]-1>-1&&"@"===e.battleField[t[0]][t[1]-1]&&(i.battleField[t[0]][t[1]-1]="*",e.battleField[t[0]][t[1]-1]="*"),t[0]-1>-1&&t[1]-1>-1&&"@"===e.battleField[t[0]-1][t[1]-1]&&(i.battleField[t[0]-1][t[1]-1]="*",e.battleField[t[0]-1][t[1]-1]="*"),t[0]-1>-1&&"@"===e.battleField[t[0]-1][t[1]]&&(e.battleField[t[0]-1][t[1]]="*",i.battleField[t[0]-1][t[1]]="*"),t[0]-1>-1&&t[1]+1<10&&"@"===e.battleField[t[0]-1][t[1]+1]&&(e.battleField[t[0]-1][t[1]+1]="*",i.battleField[t[0]-1][t[1]+1]="*"),t[1]+1<10&&"@"===e.battleField[t[0]][t[1]+1]&&(i.battleField[t[0]][t[1]+1]="*",e.battleField[t[0]][t[1]+1]="*"),t[0]+1<10&&t[1]+1<10&&"@"===e.battleField[t[0]+1][t[1]+1]&&(i.battleField[t[0]+1][t[1]+1]="*",e.battleField[t[0]+1][t[1]+1]="*"),t[0]+1<10&&"@"===e.battleField[t[0]+1][t[1]]&&(e.battleField[t[0]+1][t[1]]="*",i.battleField[t[0]+1][t[1]]="*"),t[0]+1<10&&t[1]-1>-1&&"@"===e.battleField[t[0]+1][t[1]-1]&&(i.battleField[t[0]+1][t[1]-1]="*",e.battleField[t[0]+1][t[1]-1]="*")}var a;if(function(){if(t[0]+1<10&&"X"===i.battleField[t[0]+1][t[1]]||t[0]-1>-1&&"X"===i.battleField[t[0]-1][t[1]]){var l,a;return function(){for(var e=0;e<4&&t[0]+e<10&&"X"===i.battleField[t[0]+e][t[1]];e++)l=[t[0]+e,t[1]]}(),function(){for(var e=0;e<4&&t[0]-e>-1&&"X"===i.battleField[t[0]-e][t[1]];e++)a=[t[0]-e,t[1]]}(),([l[0]+1]<10?"#"!==e.battleField[l[0]+1][l[1]]:"X"===e.battleField[l[0]][l[1]])&&([a[0]-1]>-1?"#"!==e.battleField[a[0]-1][a[1]]:"X"===e.battleField[a[0]][a[1]])}}()){for(var r=0;r<4&&t[0]+r<10&&"X"===i.battleField[t[0]+r][t[1]];r++)l([t[0]+r,t[1]],e,i);for(var n=0;n<4&&t[0]-n>-1&&"X"===i.battleField[t[0]-n][t[1]];n++)l([t[0]-n,t[1]],e,i)}if(function(){if(t[1]+1<10&&"X"===i.battleField[t[0]][t[1]+1]||t[1]-1>-1&&"X"===i.battleField[t[0]][t[1]-1]){var l,a;return function(){for(var e=0;e<4&&t[1]-e>-1&&"X"===i.battleField[t[0]][t[1]-e];e++)a=[t[0],t[1]-e]}(),function(){for(var e=0;e<4&&t[1]+e<10&&"X"===i.battleField[t[0]][t[1]+e];e++)l=[t[0],t[1]+e]}(),"#"!==e.battleField[l[0]][l[1]+1]&&"#"!==e.battleField[a[0]][a[1]-1]}}()){for(var o=0;o<4&&t[1]+o<10&&"X"===i.battleField[t[0]][t[1]+o];o++)l([t[0],t[1]+o],e,i);for(var u=0;u<4&&t[1]-u>-1&&"X"===i.battleField[t[0]][t[1]-u];u++)l([t[0],t[1]-u],e,i)}a=!0,t[0]+1<10&&"@"!==e.battleField[t[0]+1][t[1]]&&"*"!==e.battleField[t[0]+1][t[1]]&&(a=!1),t[0]-1>-1&&"@"!==e.battleField[t[0]-1][t[1]]&&"*"!==e.battleField[t[0]-1][t[1]]&&(a=!1),t[1]+1<10&&"@"!==e.battleField[t[0]][t[1]+1]&&"*"!==e.battleField[t[0]][t[1]+1]&&(a=!1),t[1]-1>-1&&"@"!==e.battleField[t[0]][t[1]-1]&&"*"!==e.battleField[t[0]][t[1]-1]&&(a=!1),a&&l(t,e,i)}},{key:"isGameOver",value:function(t){for(var e=!0,i=0;i<c;i++)for(var l=0;l<c;l++)"#"===t.battleField[i][l]&&(e=!1);e&&(exports.gameIsOver=f=!0)}}]),a}(),v=function(t){e(a,h);var i=l(a);function a(){return u(this,a),i.call(this)}return s(a,[{key:"humanAttack",value:function(t){var e=this.convertNumberToCoordArr(t);switch(m.battleField[e[0]][e[1]]){case"@":m.battleField[e[0]][e[1]]="*",k.battleField[e[0]][e[1]]="*",m.aiAttackRandomCoordinate();break;case"#":m.battleField[e[0]][e[1]]="X",k.battleField[e[0]][e[1]]="X",this.markSunkShip(e,m,k);break;case"X":case"*":break;default:alert("DEFAULT in humanAttack")}this.isGameOver(m)}}]),a}(),p=function(t){e(a,h);var i=l(a);function a(){return u(this,a),i.call(this)}return s(a,[{key:"aiAttackRandomCoordinate",value:function(){var t=this.generateRandomCoordinateXY();switch(y.battleField[t[0]][t[1]]){case"@":y.battleField[t[0]][t[1]]="*";break;case"#":y.battleField[t[0]][t[1]]="X",g.battleField[t[0]][t[1]]="X",this.markSunkShip(t,y,g),m.aiAttackRandomCoordinate();break;case"X":case"*":m.aiAttackRandomCoordinate();break;default:alert("ERROR in aiAttackRandomCoordinate()")}this.isGameOver(y)}}]),a}(),y=new v;exports.humanField=y;var m=new p;exports.aiField=m;var k=new F;exports.humanGuessField=k;var g=new F;
},{}]},{},["RGpb"], null)
//# sourceMappingURL=/NewNavalBattle.a8dc90c6.js.map